{"ast":null,"code":"var _jsxFileName = \"/Users/paulettezaldivarflores/code/Paulette-Zaldivar-Flores/cocktail/src/context/actions/filters-actions.js\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, createContext, useCallback } from 'react';\nimport FiltersReducer from '../reducers/filters-reducers';\nimport { CONTEXT_STATUS, FILTER_ACTIONS } from '../constants';\nimport { getFilterListOfAlcoholic, getFilterListOfCategories, getFilterListOfGlasses } from '../../api/cocktailApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FiltersContext = /*#__PURE__*/createContext();\nexport const FILTERS_INITIAL = {\n  status: CONTEXT_STATUS.IDLE,\n  allFilters: null,\n  selectedFilters: null,\n  error: null\n};\nexport default function FiltersContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [filters, filtersDispatcher] = useReducer(FiltersReducer, FILTERS_INITIAL); // GET ALL FILTERS\n\n  const getAllFilters = useCallback(async () => {\n    try {\n      filtersDispatcher({\n        type: FILTER_ACTIONS.LOADING\n      });\n      const cat_data = await getFilterListOfCategories();\n      const alc_data = await getFilterListOfAlcoholic();\n      const gl_data = await getFilterListOfGlasses();\n      const allFilters = {\n        categories: cat_data.drinks.map(f => f.strCategory),\n        glasses: gl_data.drinks.map(f => f.strGlass),\n        alcoholic: alc_data.drinks.map(f => f.strAlcoholic)\n      };\n      filtersDispatcher({\n        type: FILTER_ACTIONS.SET_ALLFILTERS,\n        payload: {\n          allFilters\n        }\n      });\n    } catch (error) {\n      filtersDispatcher({\n        type: FILTER_ACTIONS.ERROR,\n        payload: {\n          error: {\n            statusCode: 400,\n            message: 'Error retreiving filter options!',\n            details: error\n          }\n        }\n      });\n    }\n  }, []); // UPDATE FILTERS\n\n  const updateFilters = filters => {\n    if (!filters) throw new Error('addFilters function called with no filters passed in!');\n    if (typeof filters !== 'object') throw new Error('addFilters requires an object argument of filters!'); // these are our recognized filters\n\n    const names = ['categories', 'glasses', 'alcoholic']; // if (and only if) a recognized filter is supplied, ensure it is an array\n\n    for (const name of names) {\n      if (filters.hasOwnProperty(name) && filters[name].constructor !== Array) throw new Error(`updateFilters received the property \"${name}\" as a non-array, it must be an array!`);\n    } // extract only the recognized filters into a new object; discard others.\n    // filter out the recognized keys, then rebuild the object again using map and Objct.assign\n\n\n    const mapped = Object.keys(filters).filter(i => names.includes(i)).map(i => ({\n      [i]: filters[i]\n    })); // if there were no recognized objects, return an empty object\n\n    const updatedFilters = mapped.length ? Object.assign(...mapped) : {};\n    filtersDispatcher({\n      type: FILTER_ACTIONS.UPDATE_FILTERS,\n      payload: {\n        updatedFilters\n      }\n    });\n  }; // CLEAR SELECTED FILTERS\n\n\n  const clearSelectedFilters = async () => {\n    filtersDispatcher({\n      type: FILTER_ACTIONS.CLEAR_SELECTED\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(FiltersContext.Provider, {\n    value: {\n      filters,\n      getAllFilters,\n      updateFilters,\n      clearSelectedFilters\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FiltersContextProvider, \"La54NJKDfKzNSVtitr0MfYs1VrA=\");\n\n_c = FiltersContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"FiltersContextProvider\");","map":{"version":3,"names":["React","useReducer","createContext","useCallback","FiltersReducer","CONTEXT_STATUS","FILTER_ACTIONS","getFilterListOfAlcoholic","getFilterListOfCategories","getFilterListOfGlasses","FiltersContext","FILTERS_INITIAL","status","IDLE","allFilters","selectedFilters","error","FiltersContextProvider","children","filters","filtersDispatcher","getAllFilters","type","LOADING","cat_data","alc_data","gl_data","categories","drinks","map","f","strCategory","glasses","strGlass","alcoholic","strAlcoholic","SET_ALLFILTERS","payload","ERROR","statusCode","message","details","updateFilters","Error","names","name","hasOwnProperty","constructor","Array","mapped","Object","keys","filter","i","includes","updatedFilters","length","assign","UPDATE_FILTERS","clearSelectedFilters","CLEAR_SELECTED"],"sources":["/Users/paulettezaldivarflores/code/Paulette-Zaldivar-Flores/cocktail/src/context/actions/filters-actions.js"],"sourcesContent":["import React, { useReducer, createContext, useCallback } from 'react';\nimport FiltersReducer from '../reducers/filters-reducers';\nimport { CONTEXT_STATUS, FILTER_ACTIONS } from '../constants';\nimport {\n  getFilterListOfAlcoholic,\n  getFilterListOfCategories,\n  getFilterListOfGlasses,\n} from '../../api/cocktailApi';\n\nexport const FiltersContext = createContext();\n\nexport const FILTERS_INITIAL = {\n  status: CONTEXT_STATUS.IDLE,\n  allFilters: null,\n  selectedFilters: null,\n  error: null,\n};\n\nexport default function FiltersContextProvider({ children }) {\n  const [filters, filtersDispatcher] = useReducer(\n    FiltersReducer,\n    FILTERS_INITIAL\n  );\n\n  // GET ALL FILTERS\n  const getAllFilters = useCallback(async () => {\n    try {\n      filtersDispatcher({\n        type: FILTER_ACTIONS.LOADING,\n      });\n\n      const cat_data = await getFilterListOfCategories();\n      const alc_data = await getFilterListOfAlcoholic();\n      const gl_data = await getFilterListOfGlasses();\n\n      const allFilters = {\n        categories: cat_data.drinks.map((f) => f.strCategory),\n        glasses: gl_data.drinks.map((f) => f.strGlass),\n        alcoholic: alc_data.drinks.map((f) => f.strAlcoholic),\n      };\n\n      filtersDispatcher({\n        type: FILTER_ACTIONS.SET_ALLFILTERS,\n        payload: { allFilters },\n      });\n    } catch (error) {\n      filtersDispatcher({\n        type: FILTER_ACTIONS.ERROR,\n        payload: {\n          error: {\n            statusCode: 400,\n            message: 'Error retreiving filter options!',\n            details: error,\n          },\n        },\n      });\n    }\n  }, []);\n\n  // UPDATE FILTERS\n  const updateFilters = (filters) => {\n    if (!filters)\n      throw new Error('addFilters function called with no filters passed in!');\n    if (typeof filters !== 'object')\n      throw new Error('addFilters requires an object argument of filters!');\n\n    // these are our recognized filters\n    const names = ['categories', 'glasses', 'alcoholic'];\n\n    // if (and only if) a recognized filter is supplied, ensure it is an array\n    for (const name of names) {\n      if (filters.hasOwnProperty(name) && filters[name].constructor !== Array)\n        throw new Error(\n          `updateFilters received the property \"${name}\" as a non-array, it must be an array!`\n        );\n    }\n\n    // extract only the recognized filters into a new object; discard others.\n    // filter out the recognized keys, then rebuild the object again using map and Objct.assign\n    const mapped = Object.keys(filters)\n      .filter((i) => names.includes(i))\n      .map((i) => ({ [i]: filters[i] }));\n    // if there were no recognized objects, return an empty object\n    const updatedFilters = mapped.length ? Object.assign(...mapped) : {};\n\n    filtersDispatcher({\n      type: FILTER_ACTIONS.UPDATE_FILTERS,\n      payload: { updatedFilters },\n    });\n  };\n\n  // CLEAR SELECTED FILTERS\n  const clearSelectedFilters = async () => {\n    filtersDispatcher({\n      type: FILTER_ACTIONS.CLEAR_SELECTED,\n    });\n  };\n\n  return (\n    <FiltersContext.Provider\n      value={{\n        filters,\n        getAllFilters,\n        updateFilters,\n        clearSelectedFilters,\n      }}\n    >\n      {children}\n    </FiltersContext.Provider>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}